model Acta {
  id             Int          @id @default(autoincrement())
  nombreActa     String
  fechaReunion   DateTime
  estado         Estado
  visibilidad    Visibilidad

  createdAt      DateTime     @default(now())

  @@index([estado])
  @@index([visibilidad])
  @@index([fechaReunion])
}

enum Estado {
  ABIERTA
  CERRADA
}

enum Visibilidad {
  VISIBLE
  OCULTA
}

model Voto {
  id            Int        @id @default(autoincrement())
  actaId        Int
  consejeroId   String     
  posicion      Posicion
  comentario    String?    @db.Text
  fechaEmision  DateTime   @default(now())

  // relaciones
  acta        Acta       @relation(fields: [actaId], references: [id], onDelete: Cascade)
  user        User       @relation(fields: [consejeroId], references: [id])

  @@index([actaId])
  @@index([consejeroId])
}

enum Posicion {
  ACUERDO
  DESACUERDO
  ACUERDO_PARCIAL
}

